{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\n    extends: cc.Component,\n\n    properties: {\n       jumpHeight:150,\n       jumpDuration:0.3,\n       //最大移动速度\n       maxMoveSpeed:400,\n       //加速度\n       accel:1000,\n       //jump音效引用\n        jumpAudio: {\n            default : null,\n            url : cc.AudioClip\n        },\n    },\n\n    // use this for initialization\n    onLoad: function () {\n      // 初始化跳跃动作\n      this.jumpAction = this.setJumpAction();\n      this.node.runAction(this.jumpAction);\n      // 加速度方向开关\n      this.accLeft=false;\n      this.accRight=false;\n      // 主角当前水平方向速度\n      this.xSpeed=0;\n      //初始化键盘输入监听\n      this.setInputControl();\n    },\n    setJumpAction:function(){\n        //跳跃上升\n        var jumpUp=cc.moveBy(this.jumpDuration, cc.p(0,this.jumpHeight)).easing(cc.easeCubicActionOut());\n    \n        //下落\n        var jumpDown=cc.moveBy(this.jumpDuration, cc.p(0,-this.jumpHeight)).easing(cc.easeCubicActionIn());\n        //audio\n        var callback = cc.callFunc( this.playJumpSound , this ) ;\n        //不断重复\n        return cc.repeatForever(cc.sequence(jumpUp , jumpDown , callback));\n    },\n    //jump 播放音效\n    playJumpSound : function (){\n        cc.audioEngine.playEffect(this.jumpAudio, false);\n    },\n   setInputControl:function(){\n       var self = this;\n       // 添加键盘监听事件\n       cc.eventManager.addListener({\n           event: cc.EventListener.KEYBOARD,\n           //键盘按下，判断指定方向，并设置相对加速度\n           onKeyPressed: function(keyCode,event){\n               switch(keyCode){\n                   case cc.KEY.a:\n                       self.accLeft=true;\n                       self.accRight =false;\n                       break ;\n                   case cc.KEY.d:\n                       self.accLeft=false;\n                       self.accRight=true;\n                       break ;\n               }\n           },\n           //按键松开，停止加速度\n           onKeyReleased : function(keyCode,event){\n               switch(keyCode){\n                   case cc.KEY.a:\n                       self.accLeft =false;\n                       break;\n                   case cc.KEY.d:\n                       self.accRight=false;\n                       break;\n               }\n           }\n       }, self.node);\n   },\n   update:function(dt){\n       //根据当前加速度方向每帧更新速度\n       if(this.accLeft){\n           this.xSpeed -= this.accel * dt;\n       }else if(this.accRight){\n           this.xSpeed += this.accel *dt;\n       }\n       // 限制主角位置不能超过最大值\n       if(Math.abs(this.xSpeed)>this.maxMoveSpeed){\n           this.xSpeed=this.maxMoveSpeed * this.xSpeed / Math.abs(this.xSpeed);\n       }\n       //根据当前速度更新主角位置\n       this.node.x += this.xSpeed * dt;\n   }\n});\n"
  ]
}